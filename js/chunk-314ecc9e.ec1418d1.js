(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-314ecc9e"],{"0418":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"m-header"},[a("div",{staticClass:"m-header-title"},[e._v("电影")]),a("div",{staticClass:"m-header-search"},[a("span",{staticClass:"m-header-search-city"},[a("span",{on:{click:e.choseCity}},[e._v(e._s(e._f("formatCity")(e.getCity)))]),a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"allmap"}})]),a("span",{staticClass:"m-header-search-keyword"},[a("form",{attrs:{action:"/"}},[a("van-search",{attrs:{placeholder:"请输入搜索关键词"},on:{search:e.onSearch,cancel:e.onCancel,clear:e.onClear,focus:e.goToSearch},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1)])]),a("div",{staticClass:"m-header-nav"},e._l(e.links,function(t,n){return a("span",{key:n,on:{click:function(t){return e.changeNav(n)}}},[a("router-link",{class:e.navIndex==n?"selected":"",attrs:{to:{name:t.name,path:t.path,query:{city:e.getCity}}}},[e._v(e._s(t.text))])],1)}),0)])},o=[],c=a("2b0e"),r=[{name:"wellReceived",path:"/",text:"正在热映"},{name:"toBeShownSoon",path:"/toBeShownSoon",text:"即将上映"}],i={name:"mheader",computed:{getCity:function(){return this.$route.query.city?this.$route.query.city:c["a"].localStorage.get("city")?c["a"].localStorage.get("city"):this.city},getNavIndex:function(){return c["a"].localStorage.get("navIndex")?0:c["a"].localStorage.get("navIndex")}},data:function(){return{links:r,keyword:"",navIndex:"",center:[119.24958,26.04322],lng:0,lat:0,loaded:!1,city:"福州"}},created:function(){},methods:{onSearch:function(){},goToSearch:function(){this.$router.push({name:"search",path:"/search"})},onCancel:function(){},onClear:function(){},changeNav:function(e){this.navIndex=e,c["a"].localStorage.set("navIndex",e)},choseCity:function(){this.$router.push({name:"province",path:"/province"})}},filters:{formatCity:function(e){if(null!=e&&""!=e&&e.length>=2)return e.substring(0,2)}},mounted:function(){this.navIndex=c["a"].localStorage.get("navIndex");var e=new BMap.Map("allmap"),t=new BMap.Point(116.331398,39.897445);e.centerAndZoom(t,12);var a=new BMap.Geolocation,n=this;a.getCurrentPosition(function(e){this.getStatus()==BMAP_STATUS_SUCCESS?c["a"].localStorage.set("city",n.city):alert("failed"+this.getStatus())},{enableHighAccuracy:!0})}},s=i,l=(a("e916"),a("2877")),u=Object(l["a"])(s,n,o,!1,null,"41f1bc4e",null);t["default"]=u.exports},"9d7e":function(e,t,a){},e916:function(e,t,a){"use strict";var n=a("9d7e"),o=a.n(n);o.a}}]);
//# sourceMappingURL=chunk-314ecc9e.ec1418d1.js.map