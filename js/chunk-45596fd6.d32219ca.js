(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45596fd6"],{"3e47":function(t,i,e){},"4c1d":function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"well-received"},[e("ItemInfo",{attrs:{apiurl:t.url}})],1)},a=[],s=e("59d6"),o={name:"well-received",data:function(){return{url:this.$apiUrl.in_theaters+"?city="+this.$route.query.city}},components:{ItemInfo:s["a"]}},l=o,r=(e("655c"),e("2877")),c=Object(r["a"])(l,n,a,!1,null,null,null);i["default"]=c.exports},"59d6":function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"iteminfo"},[e("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(i){t.isLoading=i},expression:"isLoading"}},[e("van-list",{attrs:{"immediate-check":!1,finished:t.finished,"finished-text":"没有更多了",error:t.error,"error-text":"请求失败，点击重新加载"},on:{"update:error":function(i){t.error=i},load:t.onLoad},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},t._l(t.wellReceivedList["list"],function(i){return e("div",{key:i.id,staticClass:"moviesitem",on:{click:function(e){return t.gotoDetail(i.id)}}},[e("span",{staticClass:"moviesitem-img"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.images.small,expression:"wellReceived.images.small"}]})]),e("span",{staticClass:"moviesitem-info"},[e("div",{staticClass:"moviesitem-info-title-rate"},[e("span",{staticClass:"moviesitem-info-title"},[t._v(t._s(i.title))]),e("span",{staticClass:"moviesitem-info-rate"},[e("van-tag",{attrs:{size:"medium",type:"primary"}},[t._v(t._s(1==(i.rating.average+"").length?i.rating.average+".0":i.rating.average))])],1)]),e("div",[e("span",[t._v("\n              类型：\n              "),t._l(i.genres,function(i,n){return e("span",{key:n},[t._v("\n                "+t._s(i+" ")+"\n              ")])})],2)]),e("div",[e("span",[t._v("\n              导演：\n              "),t._l(i.directors,function(i,n){return e("span",{key:n},[t._v(t._s(i.name+" "))])})],2)]),e("div",[e("span",[t._v("\n              演员：\n              "),t._l(i.casts,function(i,n){return e("span",{key:n},[t._v(t._s(i.name+" "))])})],2)])])])}),0)],1),t.loadingBox?e("div",{staticClass:"loading"},[e("van-loading",{attrs:{color:"white"}})],1):t._e()],1)},a=[],s={name:"iteminfo",props:["apiurl"],data:function(){return{wellReceivedList:{list:[],total:0,start:0,count:0},score:0,loadingBox:!1,isLoading:!1,loading:!1,finished:!1,check:!1,error:!1}},watch:{},methods:{gotoDetail:function(t){var i=document.documentElement||document.body;this.$setScrollTop(i,0),this.$router.push({name:"detail",path:"/detail",query:{id:t}})},onRefresh:function(){this._onRefresh()},_onRefresh:function(){var t=this,i=this.apiurl;try{this.$getHttp(i).then(function(i){var e=i.data,n={list:[]};n["total"]=e.total,n["start"]=e.start,n["count"]=e.count,e.subjects.forEach(function(t){n["list"].push(t)}),t.wellReceivedList=n,t.$toast("刷新成功"),t.isLoading=!1}).catch(function(i){t.isLoading=!1,i.message&&t.$toast(i.message)})}catch(e){t.isLoading=!1}},initData:function(){this.wellReceivedList={list:[],total:0,start:0,count:0},this.score=0,this.loadingBox=!1,this.isLoading=!1,this.loading=!1,this.finished=!1,this.check=!1,this.error=!1;var t=this,i=this.apiurl;this.loadingBox=!0;try{this.$getHttp(i).then(function(i){var e=i.data,n={list:[]};n["total"]=e.total,n["start"]=e.start,n["count"]=e.count,e.subjects.forEach(function(t){n["list"].push(t)}),t.wellReceivedList=n,t.loadingBox=!1}).catch(function(i){t.loadingBox=!1,i.message&&t.$toast(i.message)})}catch(e){t.loadingBox=!1}},_onLoad:function(){var t=this,i=this.apiurl,e=t.wellReceivedList,n=e.total,a=e.start+e.list.length,s=0;if(s=n-a>s?e.count:n-a,s<0)return t.loading=!1,void(t.finished=!0);if(a>n)return t.loading=!1,void(t.finished=!0);var o="".concat(i,"&start=").concat(a,"&count=").concat(s);try{this.$getHttp(o).then(function(i){var e=i.data;t.wellReceivedList["total"]=e.total,t.wellReceivedList["start"]=e.start,t.wellReceivedList["count"]=e.count,e.subjects.forEach(function(i){t.wellReceivedList["list"].push(i)}),t.loading=!1,t.wellReceivedList["list"].length>=t.wellReceivedList["total"]&&(t.finished=!0)}).catch(function(i){t.loading=!1,t.finished=!0,t.error=!0,i.message&&t.$toast(i.message)})}catch(l){t.loading=!1,t.error=!0,t.finished=!0}},onLoad:function(){this._onLoad()}},created:function(){this.initData()}},o=s,l=(e("a6ed"),e("2877")),r=Object(l["a"])(o,n,a,!1,null,null,null);i["a"]=r.exports},"655c":function(t,i,e){"use strict";var n=e("ba42"),a=e.n(n);a.a},a6ed:function(t,i,e){"use strict";var n=e("3e47"),a=e.n(n);a.a},ba42:function(t,i,e){}}]);
//# sourceMappingURL=chunk-45596fd6.d32219ca.js.map